[gd_scene load_steps=84 format=2]

[ext_resource path="res://images/area1/area_1_object_1.png" type="Texture" id=1]
[ext_resource path="res://images/area1/area_1_light_view.jpg" type="Texture" id=2]
[ext_resource path="res://scenes/Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/AudioPlayer.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/TransitionCurtain.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/Main.gd" type="Script" id=6]
[ext_resource path="res://scenes/Object.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/View.tscn" type="PackedScene" id=8]
[ext_resource path="res://images/roots_sheet.png" type="Texture" id=9]
[ext_resource path="res://images/area3/area_3_dark_view.jpg" type="Texture" id=10]
[ext_resource path="res://images/area3/area_3_light_view_door_3_open.jpg" type="Texture" id=11]
[ext_resource path="res://scripts/Area1.gd" type="Script" id=12]
[ext_resource path="res://images/area1/area_1_object_2.png" type="Texture" id=13]
[ext_resource path="res://images/area2/area_2_light_view.jpg" type="Texture" id=14]
[ext_resource path="res://scripts/Area2.gd" type="Script" id=15]
[ext_resource path="res://images/area2/area_2_object_1.png" type="Texture" id=16]
[ext_resource path="res://scripts/Area3.gd" type="Script" id=17]
[ext_resource path="res://scripts/Area4.gd" type="Script" id=18]
[ext_resource path="res://images/area1/area_1_dark_view.jpg" type="Texture" id=19]
[ext_resource path="res://images/area1/area_1_object_3.png" type="Texture" id=20]
[ext_resource path="res://images/area2/area_2_dark_view.jpg" type="Texture" id=21]
[ext_resource path="res://images/area2/area_2_object_2.png" type="Texture" id=22]
[ext_resource path="res://images/area2/area_2_object_3.png" type="Texture" id=23]
[ext_resource path="res://images/area2/area_2_object_4.png" type="Texture" id=24]
[ext_resource path="res://images/area3/area_3_dark_view_door_3_open.jpg" type="Texture" id=25]
[ext_resource path="res://scenes/Monster.tscn" type="PackedScene" id=26]
[ext_resource path="res://images/area3/area_3_light_view.jpg" type="Texture" id=27]
[ext_resource path="res://images/area3/area_3_light_view_door_3_gate_3_open.jpg" type="Texture" id=28]
[ext_resource path="res://images/area4/area_4_dark_view.jpg" type="Texture" id=29]
[ext_resource path="res://images/area4/area_4_light_view_flashlight_door_3_open.jpg" type="Texture" id=30]
[ext_resource path="res://images/area4/area_4_light_view.jpg" type="Texture" id=31]
[ext_resource path="res://images/area4/area_4_light_view_door_3_open.jpg" type="Texture" id=32]
[ext_resource path="res://images/area4/area_4_light_view_flashlight.jpg" type="Texture" id=33]
[ext_resource path="res://images/area4/area_4_door_3_open.jpg" type="Texture" id=34]
[ext_resource path="res://images/area3/area_3_object_3.png" type="Texture" id=35]
[ext_resource path="res://images/area3/area_3_object_1.png" type="Texture" id=36]
[ext_resource path="res://images/area3/area_3_object_2.png" type="Texture" id=37]
[ext_resource path="res://images/area4/area_4_object_1.png" type="Texture" id=38]
[ext_resource path="res://images/area4/area_4_object_2.png" type="Texture" id=39]
[ext_resource path="res://images/area2/area_2_dark_view_door_3_open.jpg" type="Texture" id=40]
[ext_resource path="res://images/area2/area_2_light_view_door_3_open.jpg" type="Texture" id=41]
[ext_resource path="res://images/area2/area_2_light_view_door_3_gate_3_open.jpg" type="Texture" id=42]
[ext_resource path="res://images/area2/area_2_monster.png" type="Texture" id=43]
[ext_resource path="res://images/area3/area_3_monster.png" type="Texture" id=44]
[ext_resource path="res://materials/crt.material" type="Material" id=45]
[ext_resource path="res://scenes/PlayerSubtitles.tscn" type="PackedScene" id=46]
[ext_resource path="res://scenes/MonsterSubtitles.tscn" type="PackedScene" id=47]
[ext_resource path="res://images/area3/area_3_object_4.png" type="Texture" id=48]
[ext_resource path="res://scripts/Roots.gd" type="Script" id=49]
[ext_resource path="res://scenes/BlueScreen.tscn" type="PackedScene" id=50]
[ext_resource path="res://scenes/Pause.tscn" type="PackedScene" id=51]
[ext_resource path="res://scripts/AutomatedMovement.gd" type="Script" id=52]
[ext_resource path="res://shaders/monster_eyes.shader" type="Shader" id=53]
[ext_resource path="res://scripts/MonsterEyes.gd" type="Script" id=54]

[sub_resource type="ViewportTexture" id=32]
viewport_path = NodePath("Viewport")

[sub_resource type="Environment" id=5]
background_mode = 1
background_energy = 0.0
ambient_light_energy = 0.0

[sub_resource type="ShaderMaterial" id=33]
shader = ExtResource( 53 )
shader_param/left_eye = Vector2( 0.23, 0.455 )
shader_param/right_eye = Vector2( 0.35, 0.455 )
shader_param/radius = 0.1
shader_param/solid_radius = 0.007
shader_param/color = Color( 1, 1, 1, 1 )

[sub_resource type="Animation" id=34]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:material:shader_param/radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.1 ]
}

[sub_resource type="Animation" id=36]
resource_name = "fade_in"
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:material:shader_param/radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 1.5, 0.03 ]
}

[sub_resource type="Animation" id=35]
resource_name = "fade_out"
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:material:shader_param/radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.01, 1.5 ]
}

[sub_resource type="AtlasTexture" id=18]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 0, 640, 480 )

[sub_resource type="AtlasTexture" id=19]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 480, 640, 480 )

[sub_resource type="AtlasTexture" id=20]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 960, 640, 480 )

[sub_resource type="AtlasTexture" id=21]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 1440, 640, 480 )

[sub_resource type="AtlasTexture" id=22]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 1920, 640, 480 )

[sub_resource type="AtlasTexture" id=24]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 0, 640, 480 )

[sub_resource type="AtlasTexture" id=25]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 480, 640, 480 )

[sub_resource type="AtlasTexture" id=26]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 960, 640, 480 )

[sub_resource type="AtlasTexture" id=27]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 1440, 640, 480 )

[sub_resource type="AtlasTexture" id=28]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 1920, 640, 480 )

[sub_resource type="AtlasTexture" id=29]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 2400, 640, 480 )

[sub_resource type="AtlasTexture" id=30]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 2400, 640, 480 )

[sub_resource type="AtlasTexture" id=31]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 2880, 640, 480 )

[sub_resource type="AtlasTexture" id=7]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 0, 640, 480 )

[sub_resource type="AtlasTexture" id=8]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 480, 640, 480 )

[sub_resource type="AtlasTexture" id=9]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 0, 640, 480 )

[sub_resource type="AtlasTexture" id=10]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 480, 640, 480 )

[sub_resource type="AtlasTexture" id=11]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 960, 640, 480 )

[sub_resource type="AtlasTexture" id=13]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 0, 640, 480 )

[sub_resource type="AtlasTexture" id=14]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 480, 640, 480 )

[sub_resource type="AtlasTexture" id=15]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 960, 640, 480 )

[sub_resource type="AtlasTexture" id=16]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 1440, 640, 480 )

[sub_resource type="SpriteFrames" id=6]
animations = [ {
"frames": [ SubResource( 18 ), SubResource( 19 ), SubResource( 20 ), SubResource( 21 ), SubResource( 22 ), SubResource( 21 ), SubResource( 20 ), SubResource( 19 ), SubResource( 18 ) ],
"loop": true,
"name": "level_4",
"speed": 4.0
}, {
"frames": [ SubResource( 24 ), SubResource( 25 ), SubResource( 26 ), SubResource( 27 ), SubResource( 28 ), SubResource( 29 ), SubResource( 30 ), SubResource( 31 ), SubResource( 30 ), SubResource( 29 ), SubResource( 28 ), SubResource( 27 ), SubResource( 26 ), SubResource( 25 ), SubResource( 24 ) ],
"loop": true,
"name": "level_5",
"speed": 5.0
}, {
"frames": [ SubResource( 7 ), SubResource( 8 ), SubResource( 7 ) ],
"loop": true,
"name": "level_1",
"speed": 1.0
}, {
"frames": [ SubResource( 9 ), SubResource( 10 ), SubResource( 11 ), SubResource( 10 ), SubResource( 9 ) ],
"loop": true,
"name": "level_2",
"speed": 2.0
}, {
"frames": [ SubResource( 13 ), SubResource( 14 ), SubResource( 15 ), SubResource( 16 ), SubResource( 15 ), SubResource( 14 ), SubResource( 13 ) ],
"loop": true,
"name": "level_3",
"speed": 3.0
} ]

[node name="Main" type="Spatial"]
script = ExtResource( 6 )

[node name="Background" type="ColorRect" parent="."]
margin_right = 680.0
margin_bottom = 510.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ViewportTexture" type="TextureRect" parent="."]
margin_left = 20.0
margin_top = 15.0
margin_right = 660.0
margin_bottom = 495.0
texture = SubResource( 32 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="."]
size = Vector2( 640, 480 )
render_target_v_flip = true

[node name="Player" parent="Viewport" instance=ExtResource( 3 )]

[node name="AutomatedMovement" type="Spatial" parent="Viewport/Player"]
script = ExtResource( 52 )

[node name="Areas" type="Spatial" parent="."]

[node name="Area1" type="Spatial" parent="Areas"]
script = ExtResource( 12 )

[node name="ViewLight" parent="Areas/Area1" instance=ExtResource( 8 )]
skeleton = NodePath("../../..")
texture = ExtResource( 2 )

[node name="ViewDark" parent="Areas/Area1" instance=ExtResource( 8 )]
texture = ExtResource( 19 )

[node name="Object1" parent="Areas/Area1" instance=ExtResource( 7 )]
skeleton = NodePath("")
texture = ExtResource( 1 )

[node name="Object2" parent="Areas/Area1" instance=ExtResource( 7 )]
texture = ExtResource( 13 )
object_number = 2

[node name="Object3" parent="Areas/Area1" instance=ExtResource( 7 )]
texture = ExtResource( 20 )
object_number = 3

[node name="Area2" type="Spatial" parent="Areas"]
script = ExtResource( 15 )

[node name="ViewLight" parent="Areas/Area2" instance=ExtResource( 8 )]
skeleton = NodePath("../..")
texture = ExtResource( 14 )

[node name="ViewLightDoor3Open" parent="Areas/Area2" instance=ExtResource( 8 )]
texture = ExtResource( 41 )

[node name="ViewLightDoor3Gate3Open" parent="Areas/Area2" instance=ExtResource( 8 )]
skeleton = NodePath("../ViewLightDoor3Open")
texture = ExtResource( 42 )

[node name="ViewDark" parent="Areas/Area2" instance=ExtResource( 8 )]
texture = ExtResource( 21 )

[node name="ViewDarkDoor3Open" parent="Areas/Area2" instance=ExtResource( 8 )]
texture = ExtResource( 40 )

[node name="Object1" parent="Areas/Area2" instance=ExtResource( 7 )]
texture = ExtResource( 16 )

[node name="Object2" parent="Areas/Area2" instance=ExtResource( 7 )]
texture = ExtResource( 22 )
object_number = 2

[node name="Object3" parent="Areas/Area2" instance=ExtResource( 7 )]
texture = ExtResource( 23 )
object_number = 3

[node name="Object4" parent="Areas/Area2" instance=ExtResource( 7 )]
texture = ExtResource( 24 )
object_number = 4

[node name="Monster" parent="Areas/Area2" instance=ExtResource( 26 )]
texture = ExtResource( 43 )

[node name="Area3" type="Spatial" parent="Areas"]
script = ExtResource( 17 )

[node name="ViewLight" parent="Areas/Area3" instance=ExtResource( 8 )]
texture = ExtResource( 27 )

[node name="ViewLightDoor3Open" parent="Areas/Area3" instance=ExtResource( 8 )]
texture = ExtResource( 11 )

[node name="ViewLightDoor3Gate3Open" parent="Areas/Area3" instance=ExtResource( 8 )]
texture = ExtResource( 28 )

[node name="ViewDark" parent="Areas/Area3" instance=ExtResource( 8 )]
texture = ExtResource( 10 )

[node name="ViewDarkDoor3Open" parent="Areas/Area3" instance=ExtResource( 8 )]
texture = ExtResource( 25 )

[node name="Object1" parent="Areas/Area3" instance=ExtResource( 7 )]
texture = ExtResource( 36 )

[node name="Object2" parent="Areas/Area3" instance=ExtResource( 7 )]
texture = ExtResource( 37 )
object_number = 2

[node name="Object3" parent="Areas/Area3" instance=ExtResource( 7 )]
texture = ExtResource( 35 )
object_number = 3

[node name="Object4" parent="Areas/Area3" instance=ExtResource( 7 )]
texture = ExtResource( 48 )
object_number = 4

[node name="Monster" parent="Areas/Area3" instance=ExtResource( 26 )]
texture = ExtResource( 44 )

[node name="Area4" type="Spatial" parent="Areas"]
script = ExtResource( 18 )

[node name="ViewLight" parent="Areas/Area4" instance=ExtResource( 8 )]
texture = ExtResource( 31 )

[node name="ViewLightFlashlight" parent="Areas/Area4" instance=ExtResource( 8 )]
texture = ExtResource( 33 )

[node name="ViewLightDoor3Open" parent="Areas/Area4" instance=ExtResource( 8 )]
texture = ExtResource( 32 )

[node name="ViewLightFlashlightDoor3Open" parent="Areas/Area4" instance=ExtResource( 8 )]
texture = ExtResource( 30 )

[node name="ViewDark" parent="Areas/Area4" instance=ExtResource( 8 )]
skeleton = NodePath("../ViewLight")
texture = ExtResource( 29 )

[node name="ViewDarkDoor3Open" parent="Areas/Area4" instance=ExtResource( 8 )]
texture = ExtResource( 34 )

[node name="Object1" parent="Areas/Area4" instance=ExtResource( 7 )]
texture = ExtResource( 38 )

[node name="Object2" parent="Areas/Area4" instance=ExtResource( 7 )]
texture = ExtResource( 39 )
object_number = 2

[node name="OmniLight" type="OmniLight" parent="."]
light_specular = 0.0
omni_range = 25.0
omni_attenuation = 1e-05

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 5 )

[node name="PlayerSubtitles" parent="." instance=ExtResource( 46 )]
margin_left = 40.0
margin_top = 47.0
margin_right = 656.0
margin_bottom = 127.0

[node name="MonsterSubtitles" parent="." instance=ExtResource( 47 )]
margin_left = 20.0
margin_top = 15.0
margin_right = 660.0
margin_bottom = 495.0
text_color = Color( 0.87451, 0.117647, 0.117647, 1 )

[node name="MonsterEyes" type="ColorRect" parent="."]
material = SubResource( 33 )
margin_left = 20.0
margin_top = 15.0
margin_right = 660.0
margin_bottom = 495.0
color = Color( 0, 0, 0, 0 )
script = ExtResource( 54 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="MonsterEyes"]
anims/RESET = SubResource( 34 )
anims/fade_in = SubResource( 36 )
anims/fade_out = SubResource( 35 )

[node name="Roots" type="AnimatedSprite" parent="."]
position = Vector2( 20, 15 )
frames = SubResource( 6 )
animation = "level_5"
centered = false
script = ExtResource( 49 )

[node name="TransitionCurtain" parent="." instance=ExtResource( 5 )]
margin_left = 20.0
margin_top = 15.0
margin_right = 660.0
margin_bottom = 495.0

[node name="BlueScreen" parent="." instance=ExtResource( 50 )]
margin_left = 20.0
margin_top = 15.0
margin_right = 660.0
margin_bottom = 495.0

[node name="Pause" parent="." instance=ExtResource( 51 )]
margin_left = 20.0
margin_top = 15.0
margin_right = 660.0
margin_bottom = 495.0

[node name="CrtCurtain" type="ColorRect" parent="."]
material = ExtResource( 45 )
margin_left = 20.0
margin_top = 15.0
margin_right = 660.0
margin_bottom = 495.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AudioPlayer" parent="." instance=ExtResource( 4 )]
